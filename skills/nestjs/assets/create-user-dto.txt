// ===== CREATE USER DTO =====
// Copy to: src/features/user/dto/create-user.dto.ts

import { ApiProperty } from '@nestjs/swagger';
import { IsEmail, IsNotEmpty, IsString, MinLength, Matches } from 'class-validator';

export class CreateUserDto {
    @ApiProperty({
        example: 'user@example.com',
        description: 'User email address',
    })
    @IsEmail()
    @IsNotEmpty()
    email: string;

    @ApiProperty({
        example: 'Password123',
        description: 'User password (min 8 chars, uppercase, lowercase, number)',
    })
    @IsString()
    @MinLength(8)
    @Matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/, {
        message: 'Password must contain uppercase, lowercase and number',
    })
    password: string;

    @ApiProperty({
        example: 'John Doe',
        description: 'User full name',
    })
    @IsString()
    @MinLength(2)
    name: string;
}

// ===== USAGE NOTES =====
/*
1. Validation features:
   - Email format validation
   - Password strength requirements
   - Name length validation
   - All fields required

2. Decorators used:
   - @ApiProperty(): OpenAPI documentation
   - @IsEmail(): Email format validation
   - @IsNotEmpty(): Required field validation
   - @IsString(): String type validation
   - @MinLength(): Minimum length validation
   - @Matches(): Regex pattern validation
*/